@using LoginDBServices.Interfaces
@using LoginDBServices.Models.DTOs
@using Newtonsoft.Json
@{
    Layout = "_Layout";

    var userDataCookie = Context.Request.Cookies["UserData"];

    if (userDataCookie != null)
    {
        var userData = JsonConvert.DeserializeObject<UserResponse>(userDataCookie);

        // Asigna los datos al ViewBag si existen
        if (userData != null)
        {
            ViewBag.Modules = userData.Modules;
            ViewBag.Token = userData.Token;
            ViewBag.Name = userData.Name;
            ViewBag.Email = userData.Email;
        }
    }
}